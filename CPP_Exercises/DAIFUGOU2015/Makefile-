CC	= cc
C++	= c++
CFLAGS = -Wall -O0 -g3 
C++FLAGS = -Wall -O0 -g3 

OBJS = Card.o CardSet.o Dealer.o Player.o LittleThinkPlayer.o
HEADERS = Card.h CardSet.h Dealer.h Player.h GameStatus.h LittleThinkPlayer.h
EXTRA_OBJS = GroupB.o GroupC.o GroupH.o ThinkTA1.o
EXTRA_HEADERS = ./extras/GroupB.h ./extras/GroupC.h ./extras/GroupH.h

.SUFFIXES: .o .cc .cpp .c++ .c

.c.o: $(HEADERS) 
	$(CC) -c $(CFLAGS) $< 

.cc.o: $(HEADERS) 
	$(C++) -c $(C++FLAGS) $< 

.cpp.o: $(HEADERS)
	$(C++) -c $(C++FLAGS) $< 

all: daifugou
	@echo "build finished."

daifugou: main.o $(OBJS) ThinkTA1.o
	$(C++) $(C++FLAGS) main.o $(OBJS) ThinkTA1.o -o daifugou

taikai: $(OBJS) $(EXTRA_OBJS) ThinkTA1.o taikai_main.o 
	$(C++) $(C++FLAGS) $(OBJS) $(EXTRA_OBJS) taikai_main.o ThinkTA1.o -o taikai


ThinkTA1.o: $(HEADERS) ./extras/ThinkTA1.h 
	$(C++) -c $(C++FLAGS) ./extras/ThinkTA1.cpp

help:  README.txt
	more README.txt

clean   :
	\rm -f core $(OBJS) $(EXTRA_OBJS) main.o taikai_main.o *~ #*#

allclean: clean
	\rm -f taikai
	\rm -f daihugou
